<!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Загрузка...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">  <!-- Шрифт -->  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400&display=swap" rel="stylesheet">  <!-- Kinobox CSS -->  <link rel="stylesheet" href="https://fbphdplay.top/kinobox.css">  <style>
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: 'Montserrat', sans-serif;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
  </style></head>
<body><div class="container">
  <h1 id="title">Загрузка...</h1>
  <div class="kinobox" id="player"></div>
</div><script src="https://fbphdplay.top/kinobox.js"></script><script>
  const pathParts = location.pathname.split('/').filter(Boolean);
  let type = pathParts[0];
  let kpId = pathParts[1];

  const titleEl = document.getElementById('title');
  const playerEl = '#player';

  if(!kpId || !['film','series'].includes(type)){
    titleEl.textContent = 'Фильм/сериал не найден';
    titleEl.style.color = 'red';
    document.title = 'Фильм/сериал не найден';
  } else {
    kinobox(playerEl, {
      baseUrl: 'https://fbphdplay.top/',
      search: { kinopoisk: kpId },
      onReady: function(data) {
        // Название и год берём напрямую с Kinopoisk через Kinobox API
        const name = data.name || data.title || data.original_title || 'Фильм/сериал';
        const year = data.year || '';
        const fullTitle = year ? `${name} (${year})` : name;

        // Обновляем заголовок вкладки
        document.title = fullTitle;

        // Обновляем H1 на странице
        titleEl.textContent = fullTitle;
      }
    });
  }
</script></body>
</html>